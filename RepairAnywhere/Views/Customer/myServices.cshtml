@model RepairAnywhere.Models.CustomerViewModel.MyServicesViewModel

<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:500,100,300,700,400">
<style>


* {
  margin: 0;
  padding: 0;
  font-family: roboto;
}

body { background: #000; }

.cont {
  width: 93%;
  max-width: 350px;
  text-align: center;
  margin: 4% auto;
  padding: 30px 0;
  background: #111;
  color: #EEE;
  border-radius: 5px;
  border: thin solid #444;
  overflow: hidden;
}

hr {
  margin: 20px;
  border: none;
  border-bottom: thin solid rgba(255,255,255,.1);
}

div.title { font-size: 2em; }

h1 span {
  font-weight: 300;
  color: #Fd4;
}

div.stars {
  width: 270px;
  display: inline-block;
}

input.star { display: none; }

label.star {
  float: right;
  padding: 10px;
  font-size: 36px;
  color: #444;
  transition: all .2s;
}

input.star:checked ~ label.star:before {
  content: '\f005';
  color: #FD4;
  transition: all .25s;
}

input.star-5:checked ~ label.star:before {
  color: #FE7;
  text-shadow: 0 0 20px #952;
}

input.star-1:checked ~ label.star:before { color: #F62; }

label.star:hover { transform: rotate(-15deg) scale(1.3); }

label.star:before {
  content: '\f006';
  font-family: FontAwesome;
}
</style>
 

    <div class="container-fluid">
      <!-- Breadcrumbs
      <ol class="breadcrumb">
        <li class="breadcrumb-item">
          <a href="index.html">Dashboard</a>
        </li>
        <li class="breadcrumb-item active">Blank Page</li>
      </ol>
	  -->
      <div class="row">

         
	  
  @*<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">*@
  
        <div class="col-12  ">
            @{var count=0;}
				@foreach (var item in @Model.requests)
    {
        
					<div class="card">
                        <div class="card-header bg-primary text-light ">
                            Problem
                        </div>
                        <!-- /.panel-heading -->
                        <div class="card-body">
                            <!-- Nav tabs -->
                           @* <ul class="nav nav-tabs">
                                
                                <li class="nav-item"><a class="nav-link active" href="#@Model.details[count]" data-toggle="tab">Details</a>
                                </li>
								
                                <li class="nav-item"><a class="nav-link" href="#@Model.drivers[count]" data-toggle="tab">Service Provider</a>
                                </li>
                            </ul>*@

                            <!-- Tab panes -->
                            <div class="tab-content">
								@*<div class="tab-pane  in active" id="@Model.details[count]">*@
									<table width="100%">
									<tr>
									<td width="50%">
										<h4>Details</h4>
										<p>Category: @item.Category<br />
                                            Problem Description: @item.Description<br />
										Location: @item.Address<br/>
                                            Date of Request: @item.Date 
										
										
										<br/>
										<br/>
										**For more detailed information, please call: 01913531384, 01913531517, 01977885507, 01914602965, 01939912533, 01937402947
										<br/>â€¢ Call us within 10 am to 4 pm from Sunday to Thursday<br/><br/><br/>
										
										<b>Status: @item.Status</b></p>
									</td>
									<td>
										<img class="rounded" width="70%" src="../images/p5.jpg"/>
									</td>
									</tr>
									</table>
								@*</div>*@
                                
                                
                               @* <div class="tab-pane fade" id="@Model.drivers[count]">*@
                                <br />    
                                <h4>Service Provider</h4>
									<table>
										<tr>
											<td width="30%">
											<img class="rounded-circle" width="70%" src="~/Styles/Customer/images/user_pic.jpg"/>
											</td>
											<td style="text-align:center">
												<table width="100%">
													<tr>
														<td  style="text-align:center" width="40%">
															<h4>@Model.repairmen[count].Name</h4>
														</td>
														<td style="text-align:center">
															Completed Services:@Model.completecount[count]
														</td>
													</tr>
													<tr>
														<td style="text-align:center">Rating
                                                            
                                                            @if (@Model.flagR[count]==0)
                                                            {
                                                                <br />
                                                            <div class="stars">
                                                                 @using (Html.BeginForm("changeRate", "Customer", new { r = @Model.repairmen[count].RepairmanID, c = @Model.customer.CustomerID, page = "myServices" }, FormMethod.Post))
                                                                 {	
                                                                  <input class="star star-5" id="star-5_@count" type="radio" name="star" value="5"/>
                                                                  <label class="star star-5" for="star-5_@count"></label>
                                                                  <input class="star star-4" id="star-4_@count" type="radio" name="star" value="4"/>
                                                                  <label class="star star-4" for="star-4_@count"></label>
                                                                  <input class="star star-3" id="star-3_@count" type="radio" name="star" value="3"/>
                                                                  <label class="star star-3" for="star-3_@count"></label>
                                                                  <input class="star star-2" id="star-2_@count" type="radio" name="star" value="2"/>
                                                                  <label class="star star-2" for="star-2_@count"></label>
                                                                  <input class="star star-1" id="star-1_@count" type="radio" name="star" value="1"/>
                                                                  <label class="star star-1" for="star-1_@count"></label>
                                                                     
                                                                     <textarea placeholder="Review" name="comment" style="width:100%;height:auto" class="rounded"></textarea>
                                                                    
                                                                     
                                                                     <button type="submit" class="btn btn-primary">Submit</button>
                                                                 }
                                                              </div>
                                                            }

                                                            @if (@Model.flagR[count] == 1)
                                                            {
                                                                
                                                                for (int i = 0; i < @Model.repairmen[count].Rating; i++)
                                                                    {
                                                                        <i class="fa fa-star" style="font-size: 20px;color:orange"></i>
                                                                    }
                                                                
                                                                    for (double i = @Model.repairmen[count].Rating; i < 5; i++)
                                                                    {
                                                                        <i class="fa fa-star" style="font-size: 20px;color:black"></i>
                                                                    }
                                                            
                                                            }
                                                            
														</td>
														<td style="text-align:center">
															Contact No: @Model.repairmen[count].PhoneNumber
														</td>
													</tr>
													<tr>
														<td style="text-align:center" colspan="2">
															<br/>
															<br/>@*
                                                            @using (Html.BeginForm("changePassword", "Customer", FormMethod.Post))
                                        {	
															<h4> Give Review</h4>
															<textarea name="review" height="50px" width="150px"></textarea><br/> <br/>
															<button type="submit" class="btn btn-primary">Submut</button>
                                                            }*@
                                                            <button onclick="window.location='@Url.Action("viewserviceprovider", "Customer", new { id = @Model.repairmen[count].RepairmanID })';" class="btn btn-secondary" >Reviews</button>
														</td>
													</tr>
												</table>
											</td>
											<td>
											</td>
										</tr>
									</table>
									
                             @*   </div>*@
                            </div>
                        </div>
						<div class="card-footer">
						<h3>Total Charge: @item.Cost</h3>
						</div>
                        <!-- /.panel-body -->
                    </div>

            <br />
        count++;
				}	
            @if (count==0)
            {
                <h4>There are no Completed Requests</h4>
            }
					
					
        </div>
      </div>
    </div>
    
    
